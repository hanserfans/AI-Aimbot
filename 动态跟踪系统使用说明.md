# 动态跟踪系统使用说明

## 概述
动态跟踪系统是为了解决传统一次性鼠标移动导致的时序问题而开发的高级瞄准系统。它能够预测目标移动并进行连续的自适应调整。

## 核心功能

### 1. 三种瞄准模式
- **静态模式 (Static)**: 传统的一次性瞄准，适合静止目标
- **预测模式 (Predictive)**: 基于目标移动历史预测未来位置
- **自适应模式 (Adaptive)**: 根据目标移动速度动态调整移动幅度

### 2. 目标移动预测
- 记录目标位置历史（最多10个位置点）
- 计算目标移动速度和方向
- 预测目标在鼠标移动完成时的位置

### 3. 连续跟踪机制
- 持续监控目标位置变化
- 在跟踪期间进行微调移动
- 自动超时机制防止无限跟踪

## 快捷键控制

### 基本操作
- **Caps Lock**: 激活瞄准系统
- **M键**: 循环切换瞄准模式 (Static → Predictive → Adaptive)
- **P键**: 显示精度报告
- **Q键**: 退出程序

### 模式切换
按下M键会在三种模式间循环切换：
1. Static (静态) → Predictive (预测) → Adaptive (自适应) → Static...

## 系统参数

### 跟踪参数
- **跟踪超时**: 2秒（防止长时间跟踪）
- **最小移动阈值**: 2像素（避免微小抖动）
- **历史位置记录**: 最多10个位置点
- **预测时间**: 100毫秒（鼠标移动延迟补偿）

### 自适应参数
- **高速移动阈值**: 5像素/帧
- **移动幅度调整**: 0.7-1.3倍动态调整

## 使用建议

### 针对不同场景
1. **静止目标**: 使用Static模式，快速精确
2. **缓慢移动目标**: 使用Predictive模式，预测位置
3. **快速移动目标**: 使用Adaptive模式，动态调整

### 最佳实践
1. 开始时使用Static模式熟悉系统
2. 遇到移动目标时切换到Predictive模式
3. 高速移动场景使用Adaptive模式
4. 定期查看P键报告了解瞄准精度

## 系统状态显示

### 实时信息
程序会显示以下信息：
- 当前瞄准模式
- 目标位置和移动状态
- 鼠标移动计算结果
- 跟踪状态和超时信息

### 调试输出
```
[DEBUG] 动态跟踪移动: (12.3, -8.7), 模式: predictive
[INFO] 目标移动速度: 3.2px/frame, 预测位置: (165, 148)
[DEBUG] 自适应调整: 移动幅度 x0.85
```

## 与精确瞄准优化器的协同

动态跟踪系统与现有的精确瞄准优化器完全兼容：
- 继续收集瞄准数据用于长期优化
- P键报告包含所有瞄准统计信息
- 自动保存功能持续工作

## 故障排除

### 常见问题
1. **模式切换无响应**: 确保M键按下间隔超过1秒
2. **跟踪不准确**: 检查目标检测置信度，调整detection threshold
3. **移动过于频繁**: 系统会自动限制移动频率，无需手动干预

### 性能优化
- 系统自动管理内存使用
- 历史数据自动清理
- 超时机制防止资源浪费

## 技术细节

### 预测算法
使用线性预测模型：
```
predicted_position = current_position + velocity * prediction_time
```

### 自适应调整
根据目标移动速度动态调整：
```python
if speed > high_speed_threshold:
    movement_multiplier = 0.7  # 减少移动幅度
else:
    movement_multiplier = 1.0  # 正常移动幅度
```

## 更新日志

### v1.0 (当前版本)
- 实现三种瞄准模式
- 添加目标移动预测
- 集成连续跟踪机制
- 提供用户控制接口
- 完整的调试输出系统

---

**注意**: 此系统专为解决瞄准时序问题而设计，在使用过程中请遵守相关游戏规则和法律法规。