# 🎯 可视化瞄准测试工具使用说明

## 概述
可视化瞄准测试工具是一个图形化界面程序，用于测试和验证AI瞄准系统的精度。该工具可以在监视器上显示终点标志，并测试头部与准星的重合精度。

## 功能特性

### 🖥️ 可视化界面
- **检测区域显示**: 320x320像素的检测区域边界
- **安全边界**: 20像素边距的安全区域标识
- **网格坐标**: 便于精确定位的坐标网格
- **实时标记**: 目标、准星、移动轨迹和终点的实时显示

### 🎯 测试场景
工具内置6个预设测试场景：
1. **右上方目标** - 测试远距离斜向瞄准
2. **左下方目标** - 测试反向斜向瞄准
3. **近距离目标** - 测试短距离精确瞄准
4. **远距离目标** - 测试长距离瞄准能力
5. **左侧目标** - 测试水平左向瞄准
6. **右侧目标** - 测试水平右向瞄准

### 📊 精度分析
- **误差计算**: 实时计算X、Y轴误差和总误差
- **精度评级**: 
  - 🎯 极佳 (≤5px)
  - ✅ 良好 (≤10px)
  - ⚠️ 一般 (≤20px)
  - ❌ 较差 (>20px)
- **性能统计**: 计算耗时和平均精度

## 使用方法

### 启动工具
```bash
python visual_aiming_test.py
```

### 界面操作
1. **选择测试场景**: 在下拉菜单中选择要测试的场景
2. **执行单次测试**: 点击"🎯 执行瞄准测试"按钮
3. **自动测试**: 点击"🔄 自动测试所有场景"进行批量测试
4. **清除轨迹**: 点击"🧹 清除轨迹"重置画布

### 结果解读
- **红色圆圈**: 目标位置
- **蓝色十字**: 准星位置
- **绿色箭头**: 移动轨迹
- **绿色圆圈**: 移动终点
- **红色虚线**: 误差距离

## 系统配置

### 瞄准系统参数
- **优化跟踪**: 启用移动优化算法
- **平滑度**: 0.8 (80%平滑处理)
- **最大移动**: 50px (单次移动限制)

### 坐标系统
- **检测尺寸**: 320x320像素
- **游戏分辨率**: 2560x1600像素
- **游戏FOV**: 103度
- **安全边界**: 20像素边距

## 测试结果示例

### 单次测试输出
```
🎯 开始测试: 右上方目标
目标位置: (200, 100)
准星位置: (160, 160)
计算移动: (50, -50)
移动终点: (210.0, 110.0)
误差: X=10.0px, Y=10.0px
总误差: 14.1px
计算耗时: 2.3ms
精度评级: ⚠️ 一般
```

### 批量测试总结
```
📊 测试总结:
成功测试: 6/6
平均误差: 12.5px
✅ 整体精度: 良好
```

## 调试信息

工具运行时会输出详细的调试信息，包括：
- 输入参数验证
- 边界检查状态
- 坐标系统计算
- 移动优化过程
- 最终结果分析

## 技术特点

### 🔧 移动优化
- **平滑度处理**: 减少移动抖动
- **距离限制**: 防止过度移动
- **边界检查**: 确保移动安全性

### 📏 精度测量
- **像素级精度**: 精确到0.1像素
- **多维度分析**: X、Y轴分别计算
- **实时反馈**: 即时显示结果

### 🎨 可视化效果
- **颜色编码**: 不同元素使用不同颜色
- **动态更新**: 实时显示移动过程
- **缩放显示**: 2倍放大便于观察

## 注意事项

1. **坐标范围**: 确保目标和准星坐标在检测区域内(0-320)
2. **系统要求**: 需要tkinter图形界面支持
3. **性能影响**: 可视化会略微影响计算性能
4. **测试环境**: 建议在稳定环境下进行测试

## 故障排除

### 常见问题
- **界面无法启动**: 检查tkinter是否正确安装
- **测试失败**: 确认坐标参数在有效范围内
- **显示异常**: 检查屏幕分辨率和缩放设置

### 调试建议
- 查看控制台输出的详细调试信息
- 使用单次测试验证特定场景
- 对比不同场景的测试结果

---

通过这个可视化工具，您可以直观地观察瞄准系统的工作过程，验证头部与准星的重合精度，并根据测试结果优化系统参数。